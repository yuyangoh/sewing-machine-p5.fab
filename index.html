<!DOCTYPE html>
<html>

<head>
  <meta charset="UTF-8">
  <title>p5.fab</title>

  <!-- CSS -->
  <link href="https://fonts.googleapis.com/css2?family=Inter&display=swap" rel="stylesheet">
  <link rel="stylesheet"
    href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/6.65.7/theme/tomorrow-night-eighties.css"
    integrity="sha512-vbs46gpdk6Esj4wKwpYB2JUqiBPab2oHipHnyOSvprCDlRjGrX1IQxvtRxo3IthYw1DzxlIiE2ntgEnjXxJL7A=="
    crossorigin="anonymous" referrerpolicy="no-referrer" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/6.65.7/theme/paraiso-light.min.css"
    integrity="sha512-xb7HM7Q7s3Lm0LSzMGAOkUYJR/7tDmIYf3nEpJ85LECOEehenge0dbpIJqW8mrxMLCcQzwU7N6y/R7TzGCu7iA=="
    crossorigin="anonymous" referrerpolicy="no-referrer" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/6.65.7/codemirror.min.css"
    integrity="sha512-uf06llspW44/LZpHzHT6qBOIVODjWtv4MxCricRxkzvopAlSWnTf6hpZTFxuuZcuNE9CBQhqE0Seu1CoRk84nQ=="
    crossorigin="anonymous" referrerpolicy="no-referrer" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.0/css/all.min.css"
    integrity="sha512-xh6O/CkQoPOWDdYTDqeRdPCVd1SpvCA9XXcUnZS2FmJNp1coAFzvtCN9BmamE+4aHK8yyUHUSCcJHgXloTyT2A=="
    crossorigin="anonymous" referrerpolicy="no-referrer" /> <!-- move this to css later -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css"
    integrity="sha384-Zenh87qX5JnK2Jl0vWa8Ck2rdkQ2Bzep5IDxbcnCeuOxjzrPF/et3URy9Bv1WTRi" crossorigin="anonymous">
  <link href="css/style.css" rel="stylesheet">

  <!-- Libraries -->
  <script src="https://code.jquery.com/jquery-3.6.1.min.js"
    integrity="sha256-o88AwQnZB+VDvE9tvIXrMQaPlFFSUTR+nldQm1LuPXQ=" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.min.js"
    integrity="sha384-IDwe1+LCz02ROU9k972gdyvl+AESN10+x7tBKgc9I5HFtuNz0wWnPclzo6p9vxnk"
    crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/6.65.7/codemirror.min.js"
    integrity="sha512-8RnEqURPUc5aqFEN04aQEiPlSAdE0jlFS/9iGgUyNtwFnSKCXhmB6ZTNl7LnDtDWKabJIASzXrzD0K+LYexU9g=="
    crossorigin="anonymous" referrerpolicy="no-referrer"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/6.65.7/mode/javascript/javascript.js"
    integrity="sha512-9bZKsY+97AQthWWS54sUIWxo0GkS0yPvSXStcMshHDVj9lCfLgzhSTr9xa+Ho0WKkRTKMm2yy8M+EG10n9u0iQ=="
    crossorigin="anonymous" referrerpolicy="no-referrer"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/6.65.7/addon/comment/comment.min.js"
    integrity="sha512-UaJ8Lcadz5cc5mkWmdU8cJr0wMn7d8AZX5A24IqVGUd1MZzPJTq9dLLW6I102iljTcdB39YvVcCgBhM0raGAZQ=="
    crossorigin="anonymous" referrerpolicy="no-referrer"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/6.65.7/addon/selection/active-line.js"
    integrity="sha512-DvG6G3Tewtulx8KxRQNl8ozWU6Wic4LSeSazrouQqctgYLeuhfabduYK4ihtHajhn16+HSNJ9tj9J7xazBzcZw=="
    crossorigin="anonymous" referrerpolicy="no-referrer"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/6.65.7/addon/edit/closebrackets.min.js"
    integrity="sha512-tsjcYO5hFvViRssxiM7Jhd8601epWOx1He3Hl4yuI5dKKPxr43KxkOhc9GZeeqzlYJm9ABb7UPA9697NiqZZ7Q=="
    crossorigin="anonymous" referrerpolicy="no-referrer"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/acorn/8.8.0/acorn.js"
    integrity="sha512-JijP0ByacvaZ1KMLMNm/kkNYDbw3FditHtda727obd9ktgjOdFoL7/3uao8nAGCxNyhZDs1c+qQACki5x0sIdg=="
    crossorigin="anonymous" referrerpolicy="no-referrer"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/js-beautify/1.14.6/beautify.js"></script>


  <!-- <script src="js/p5.js" type="text/javascript"></script> -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.3.1/p5.js"></script>
  <script src="../lib/p5.fab.js" type="text/javascript"></script>
  <script src="https://unpkg.com/p5-webserial@0.1.1/build/p5.webserial.js"></script>
</head>

<body>
  <div id="info-modal" class="modal">
    <div class="modal-content">
      <span class="close">&times;</span>
      <h1>p5.fab</h1>
      <p>
        p5.fab is a p5.js library for digital fabrication. It helps you programmatically
        author toolpaths for low-level control over your machine!
      </p>
      <hr><br>
      <h2>getting started</h2>
      <p>
      <ul>
        <li>write code to specify toolpaths in the fabDraw() function</li>
        <li>visualize toolpaths with Shift + Enter, or press 'visualize'</li>
        <li>connect your 3D printer over USB and click 'connect'</li>
        <li>start printing your design with Ctrl + Shift + Enter, or press 'start print'!</li>
        <li>check out the examples for more </li>
      </ul>
      </p>
      <hr><br>
      <h2>going further</h2>
      <p>
        full documentation is found on the p5.fab <a href="https://github.com/machineagency/p5.fab/wiki">wiki</a>
        and the <a href="https://github.com/machineagency/p5.fab">source code</a> is on github. The development of
        p5.fab was guided by studies of 3D printer maintenance and evaluated with creative code artists; you
        can read about that in our <a href="https://dl.acm.org/doi/10.1145/3532106.3533496">paper</a>, if you're
        interested!
      </p>
    </div>
  </div>
  <div>
    <div class="top-menu">
      <div class="left">
        <h1>p5.fab</h1>
        <div class="menu-item" onclick="setTemplate('new')">new</div>
        <div class="menu-item">examples
          <div class="menu-item-dropdown-content">
            <i onclick="setTemplate('line-vase')">line vase</i>
            <i onclick="setTemplate('2point5D-sketching')">2.5D sketching</i>
            <i onclick="setTemplate('ripple')">ripple texture</i>
            <i onclick="setTemplate('nonplanar')">non-planar vase</i>
          </div>
        </div>
        <div class="menu-item" onclick="saveSketch()">save</div>
        <label for="file-upload" class="menu-item">upload</label>
        <input id="file-upload" type="file" />
      </div>
      <div class="right">
        <div class="menu-item">printer
          <div class="menu-item-dropdown-content">
            <i onclick="setPrinter('ender3-pro')">Ender 3 Pro</i>
            <i onclick="setPrinter('q5')">Flsun Q5</i>
          </div>
        </div> 
        <div class="menu-item" onclick="updatePreview()">visualize</div>
        <div class="menu-item" onclick="evaluateJs('_fab.serial.requestPort();')">connect</div>
        <div class="menu-item" onclick="evaluateJs('_fab.print();')">start print</div>
        <div class="menu-item" onclick="evaluateJs('_fab.stopPrint();')">stop print</div>
        <a href="https://github.com/machineagency/p5.fab" target="_blank" rel="noopener noreferrer"
          id="top-bar-link">source</a>
        <div class="menu-item" onclick="showInfoModal()">info</div>
        <!-- <div class="menu-item">tweet artifact</div> -->
      </div>
    </div>
    <!-- <div style="display: flex"> -->
    <iframe id='preview'></iframe>
    <div id='code'>
      <div id="error-log"></div>
    </div>
    <!-- </div> -->
    <script type="text/javascript" src="js/editor.js"></script>
    <script type="text/javascript" src="js/events.js"></script>
    <script type="text/javascript" src="js/repl.js" ></script>
</body>

</html>
